{% extends '../base.html' %}

{% block title %}Search Customers{% endblock %}

{% block breadcrumb %}

<li class="breadcrumb-item active" aria-current="page">Search Customers</li>
{% endblock %}


{% block content %}

<br>
<hr>
<br>
<div id="searchTab p-2 mb-5">
    <div class="row">
            <div class="col-md-3 field-label-responsive">
                    <label for="userType">Select category to view customers</label>
            </div>
            <div class="col-md-6">
                    <div class="form-group">
                        <select class="form-control select2 p-2" style="width:280px;" name="staffID" id="staffID" required>
                            <option value="">Select category</option>
                            {% for field in fields %}
                            <option value="{{ field }}">{{ field.name }}</option>
                            {% endfor %}
                        </select>
                    </div>
            </div>
            <div class="col-md-3">
                    <div id="btnStaff" class="btn btn-flat btn-primary">SELECT</div>
            </div>
    </div>
        

</div>
<br>
<hr>
<br>
<div id="dtView" class="pt-4">
        <table id="tbl" class="table table-striped table-bordered dt-responsive nowrap" style="width:100%;">
                <caption>All registered customers</caption>
              <thead>
              <tr>
                <th>Customer ID</th>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Street Address</th>
                <th>City</th>
                <th>Postal Code</th>
                <th>State</th>
                <th>DOB</th>
                <th>Driver Licence Number</th>
                <th>Gender</th>
                <th>Occupation</th>
                <th>PhoneNumber</th>
                <th>Email</th>
                <th>Username</th>
              </tr>
              </thead>
              <tbody id="records">
                {% for customer in customers %}
                <tr>
                  <td class="pdttable">{{ customer.customerID }}</td>
                  <td class="pdttable">{{ customer.firstName }}</td>
                  <td class="pdttable">{{ customer.lastname }}</td>
                  <td class="pdttable">{{ customer.streetAddress }}</td>
                  <td class="pdttable">{{ customer.cityAddress }}</td> 
                  <td class="pdttable">{{ customer.postCodeAddress }}</td> 
                  <td class="pdttable">{{ customer.stateAddress }}</td>
                  <td class="pdttable">{{ customer.DOB }}</td>
                  <td class="pdttable">{{ customer.driverLicenceNumber }}</td>  
                  <td class="pdttable">{{ customer.gender }}</td> 
                  <td class="pdttable">{{ customer.occupation }}</td>
                  <td class="pdttable">{{ customer.phoneNumber }}</td>
                  <td class="pdttable">{{ customer.email }}</td>   
                  <td class="pdttable">{{ customer.Username }}</td> 
                </tr>
                {% endfor %}
              </tbody>
              <tfoot>
              <tr>
                <th>Customer ID</th>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Street Address</th>
                <th>City</th>
                <th>Postal Code</th>
                <th>State</th>
                <th>DOB</th>
                <th>Driver Licence Number</th>
                <th>Gender</th>
                <th>Occupation</th>
                <th>PhoneNumber</th>
                <th>Email</th>
                <th>Username</th>
              </tr>
              </tfoot>
            </table>
</div>


{% endblock %}


{% block scripts %}
<script>
// datatable initialising
  $('#tbl').DataTable({
      'retrieve': true,
      'paging'      : true, // for pagination
      'lengthChange': false,
      'searching'   : true, //searching
      'ordering'    : true, //sorting
      'info'        : true,
      'autoWidth'   : true, // keep this true
      'sScrollX': '100%', // this too
      "lengthMenu": [[20, 40, 60, -1], [20, 40, 60, "All"]], // for number of items

        'dom': 'Bfrtip', //export buttons
        'buttons': [
          {
            extend: 'copyHtml5',
            text: 'Copy',
            className: 'btn btn-flat btn-primary',
          },
          {
            extend: 'excelHtml5',
            text: 'Export to Excel',
            className: 'btn btn-flat btn-primary',
          },
          {
            extend: 'print',
            className: 'btn btn-flat btn-primary',
            customize: function ( win ) {
              $(win.document.body).css('background', '#fff');
              $(win.document.body).css('padding', '20px');
            }

          }

        ]
    })
        

// $(document).ready(function() {
//   $("#dtView").hide();
//   $('#storeID').select2();
// });

// $("#btnStaff").click(function(){})

</script>


{% endblock %}